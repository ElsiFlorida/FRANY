'use strict';(function(){window.dailymotion._privates.api=function(b){var r=_dmpesplayer.P.FULLSCREEN,n=_dmpesplayer.P.INLINE,t=_dmpesplayer.P.NATIVE_PIP,h=_dmpesplayer.E.PUBLIC,u=h.PLAYER_PRESENTATIONMODECHANGE,v=h.PLAYER_ASPECTRATIOCHANGE,w=h.PLAYER_SCALEMODECHANGE,x=h.PLAYER_HEAVYADSINTERVENTION;h=_dmpesplayer.E.PRIVATE;var y=h.PLAYER_STATE,p=h.PLAYER_FULLSCREENCHANGE,z=h.PLAYER_NATIVEPIPCHANGE,e={},q=function(a){return Object.values(_dmpesplayer.E.PUBLIC).includes(a)};b._privates.removeAllListeners=
_dmpesplayer.a(b,_dmpesplayer.E.ALL,function(a){var d=a.id,c=a.event,f=a.fullscreen,g=a.mode,k=a.playerHeavyAdsInterventionReports;[p,z].includes(c)&&(a=c===p?f?r:n:"inline"===g?n:t,b._privates.stateFromPES.playerPresentationMode=a,_dmpesplayer.b(u,{id:d,playerPresentationMode:a}));e[c]&&q(c)&&(c===_dmpesplayer.E.PUBLIC.PLAYER_HEAVYADSINTERVENTION?e[c].forEach(function(l){l=l.cb;l({playerHeavyAdsInterventionReports:k})}):b.getState().then(function(l){e[c].slice().forEach(function(m){m=m.cb;m(l)})}))});
var A=function(a){var d=_dmpesplayer.a(b,y,function(c){Object.assign(c,b._privates.stateFromPES);a(c)});_dmpesplayer.s(b,_dmpesplayer.C.STATE);return d};b.pause=function(){return _dmpesplayer.s(b,_dmpesplayer.C.PAUSE)};b.play=function(){return _dmpesplayer.s(b,_dmpesplayer.C.PLAY)};b.seek=function(a){return _dmpesplayer.s(b,_dmpesplayer.C.SEEK,a)};b.setMute=function(a){return _dmpesplayer.s(b,_dmpesplayer.C.MUTED,a)};b.setQuality=function(a){return _dmpesplayer.s(b,_dmpesplayer.C.QUALITY,a)};b.setSubtitles=
function(a){return _dmpesplayer.s(b,_dmpesplayer.C.SUBTITLES,a)};b.setVolume=function(a){return _dmpesplayer.s(b,_dmpesplayer.C.VOLUME,a)};b.setFullscreen=function(a){return _dmpesplayer.s(b,_dmpesplayer.C.FULLSCREEN,a)};b.setControls=function(a){var d=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hasTransition;_dmpesplayer.s(b,_dmpesplayer.C.CONTROLS,a,void 0===d?!0:d)};b.setCustomConfig=function(a){_dmpesplayer.s(b,_dmpesplayer.C.CUSTOMCONFIG,a)};b.setLoop=function(a){_dmpesplayer.s(b,
_dmpesplayer.C.LOOP,a)};b.setAspectRatio=function(a){_dmpesplayer.u(b,a);b._privates.stateFromPES.playerAspectRatio=a;_dmpesplayer.b(v,{id:b._privates.id,aspectRatio:a})};b.setScaleMode=function(a){_dmpesplayer.s(b,_dmpesplayer.C.SCALE,a);b._privates.stateFromPES.playerScaleMode=a;_dmpesplayer.b(w,{id:b._privates.id,scaleMode:a})};b.loadContent=function(a){_dmpesplayer.s(b,_dmpesplayer.C.LOAD,a.video,{playlist:a.playlist,start:a.startTime,refreshQueue:a.refreshQueue})};b.updateParams=function(a){var d=
a.aspectRatio,c=a.customConfig,f=a.enableControls,g=a.loop,k=a.mute,l=a.scaleMode;a=a.volume;void 0!==d&&b.setAspectRatio(d);void 0!==c&&b.setCustomConfig(c);void 0!==f&&b.setControls(f,{hasTransition:!0});void 0!==g&&b.setLoop(g);void 0!==k&&b.setMute(k);void 0!==l&&b.setScaleMode(l);void 0!==a&&b.setVolume(a)};b.on=function(a,d){var c=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).once;c=void 0===c?!1:c;if("string"!==typeof a)console.warn("event should be a string, received ".concat(a));
else if("function"!==typeof d)console.warn("cb should be a function, received ".concat(d));else if(q(a))if(e[a]||(e[a]=[]),e[a].find(function(k){return k.originalCb===d}))console.warn("callback duplication detected for ".concat(a));else{var f=d;c&&(d=function(){g();f.apply(void 0,arguments)});var g=function(){e[a]&&(e[a]=e[a].filter(function(k){return k.originalCb!==f}))};e[a].push({originalCb:f,cb:d});return g}};b.off=function(a){"string"!==typeof a?console.warn("event should be a string, received ".concat(a)):
e[a]?delete e[a]:console.warn("no listener on ".concat(a," to remove"))};b.getState=function(){return new Promise(function(a,d){var c=b.on(x,function(){f();c();d();console.warn("player.getState() rejected : player ".concat(b._privates.id," has been destroyed by Heavy Ads"))}),f=A(function(g){f();c();a(g)})})};b.getSettings=function(){return b._privates.config};return b}})()
